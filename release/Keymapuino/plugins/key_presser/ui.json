{
  "window_title": "Key Presser Configuration",
  "data_model": {
    "mappings": {},
    "max_hold_time_ms": 100,
    "current_analog_pin": "",
    "analog_key_entry": "",
    "analog_low_entry": "",
    "analog_high_entry": "",
    "analog_hold_entry": ""
  },
  "layout": {
    "grid": [
      {
        "row": 0,
        "widgets": [
          { "type": "label", "text": "Max Digital Hold Time (ms):", "grid": {"column": 0, "sticky": "w"} },
          { "type": "entry", "name": "max_hold_time_ms_entry", "bind_to": "max_hold_time_ms", "var_type": "integer", "grid": {"column": 1, "sticky": "ew"} }
        ]
      },
      {
        "row": 1,
        "widgets": [
          {
            "type": "notebook",
            "name": "main_notebook",
            "grid": {"column": 0, "columnspan": 2, "sticky": "nsew"},
            "tabs": [
              {
                "title": "Digital Pins",
                "layout": {
                  "grid": [
                    {
                      "row": 0, "pady": 10,
                      "widgets": [
                        { "type": "label", "text": "Pin:", "grid": {"column": 0} },
                        { "type": "entry", "name": "digital_pin_entry", "width": 8, "grid": {"column": 1} },
                        { "type": "label", "text": "Key:", "grid": {"column": 2, "padx": [10, 0]} },
                        { "type": "entry", "name": "digital_key_entry", "width": 8, "grid": {"column": 3} },
                        { "type": "button", "text": "Add / Update", "action": "add_digital_mapping", "grid": {"column": 4, "padx": 10} }
                      ]
                    },
                    {
                      "row": 1,
                      "widgets": [
                        { "type": "listbox", "name": "digital_listbox", "height": 10, "bind_to": "mappings", "filter": "digital", "grid": {"column": 0, "columnspan": 5, "sticky": "nsew", "pady": 5} }
                      ]
                    },
                    {
                      "row": 2,
                      "widgets": [
                        { "type": "button", "text": "Remove Selected", "action": "remove_digital_mapping", "grid": {"column": 0, "columnspan": 5} }
                      ]
                    }
                  ]
                }
              },
              {
                "title": "Analog Pins",
                "layout": {
                  "grid": [
                    {
                      "row": 0, "pady": 5,
                      "widgets": [
                        { "type": "label", "text": "Analog Pin (e.g. A0):", "grid": {"column": 0, "columnspan": 2, "sticky": "w"} },
                        { "type": "entry", "name": "analog_pin_selector", "bind_to": "current_analog_pin", "grid": {"column": 2, "columnspan": 3, "sticky": "ew"} }
                      ]
                    },
                    {
                      "row": 1,
                      "widgets": [
                        { "type": "listbox", "name": "analog_threshold_list", "height": 8, "bind_to": "mappings", "filter": "analog:${current_analog_pin}", "grid": {"column": 0, "columnspan": 5, "sticky": "nsew", "pady": 5} }
                      ]
                    },
                    {
                      "row": 2,
                      "widgets": [
                        { "type": "button", "text": "Remove Selected Threshold", "action": "remove_analog_threshold", "grid": {"column": 0, "columnspan": 5} }
                      ]
                    },
                    {
                      "row": 3, "pady": 10,
                      "widgets": [
                        { "type": "label", "text": "Key:", "grid": {"column": 0}},
                        { "type": "entry", "name": "analog_key_entry", "width": 6, "bind_to": "analog_key_entry", "grid": {"column": 1}},
                        { "type": "label", "text": "Low:", "grid": {"column": 2}},
                        { "type": "entry", "name": "analog_low_entry", "width": 6, "bind_to": "analog_low_entry", "var_type": "integer", "grid": {"column": 3}},
                        { "type": "label", "text": "High:", "grid": {"column": 4}},
                        { "type": "entry", "name": "analog_high_entry", "width": 6, "bind_to": "analog_high_entry", "var_type": "integer", "grid": {"column": 5}},
                        { "type": "label", "text": "Hold(ms):", "grid": {"column": 6}},
                        { "type": "entry", "name": "analog_hold_entry", "width": 6, "bind_to": "analog_hold_entry", "var_type": "integer", "grid": {"column": 7}}
                      ]
                    },
                    {
                      "row": 4,
                      "widgets": [
                        { "type": "button", "text": "Add Threshold", "action": "add_analog_threshold", "grid": {"column": 0, "columnspan": 8} }
                      ]
                    }
                  ]
                }
              }
            ]
          }
        ]
      }
    ]
  }
}